language: python
cache: pip
python:
- '2.6'
- '2.7'
- '3.3'
- '3.4'
- '3.5'
- 3.5-dev
- '3.6'
- 3.6-dev
- 3.7-dev
- pypy2.7
- pypy3.5
sudo: false
install:
- pip install .[test] codecov
matrix:
  fast_finish: true
  allow_failures:
  - python: '2.6'
  - python: '2.7'
  - python: pypy2.7
  - python: pypy3.5
script:
- nosetests --cover-erase --cover-package=pyDownload  --cover-branches --with-coverage
- codecov
deploy:
  provider: pypi
  user:
    secure: QVzbiqWhcuRb6HWYNZZVncPddniQfcl6J15+9xcKDNK71arOnUvAn2j5TCSAi7ZV6a+u13oHBOM2GEGCf0h+U1YmWS9g0zv4HOHctXzLIsN9oZoqq4hEIBCjiEXrjopCgslH6adPcl2XK1lN5xiWNLoZ07M5LC+wfpRomDdzrDH4d3Qdp8KT+EFGy61JIZDMOxHtkrRQvsOW0kF4sfaW3bcJJ9tgMW34wgiOKwS+UBwkJz4E5+f4Cuqw/CBC0ZSHMjW6ULwpLRhQjcaZwifvlPKxoSpOZHeDE4prOKuuYTCAPTAN9yuP+0chXDJZqNF0lhNfzsNF6IL4tZgeXwPuW88uEC4dRQQojgF7NROjdndIImV+06ZXyz2S76HJhDUHHaYeLUicCMVeICYmRRY/oFR7OdrGFbFVmUc9QznK9k/tsD9yUlUtLGMkb1b09kISU4FiIImiMsVcabub3ohB3OlEIzRBBNlsAQLn4zWKiKwSLFAtJ8Kkxydr/qbA9hgRYTCb94oKz30V1yHpO27kMyOoFl9ErI+2GqjXA3ZRy/bu9ZMGv/vozVD1pHqvbjHXC0lmDBbPJhVtYgw3xpl3QtipejGH8/G7E7JJ+D90Eq0qYVUgEwUDKCL7gXyhE6OwbaYJNicgjJrFV/FH5w+jwAoVZzEOClQyQLXgZyENfA8=
  password:
    secure: lpN1yFpQE2FTBzObcI58eBVTYiojQengD2rVa64sqnJp5Lg+NNewA6dRzlF7DXHPZznui1Ssbl6oW+K66A7WaXXurPKbzbHbQisiB548A9XRx7nNjcvS4WmYSDessqpFw/GMA/Now106v4/oHA5N1tIgGAjulse8iP0mJX9gWUlV2wRJvscjUZ7BjwYPW5OU9OQh606XcHnaUYyCzdeBjfFgbFlBjyscTaagVqNsn5D+Zc8WsVRTNufhRagsKuaninML0DcHZg6LPfMq4hfPm85xcM+8KnGOQzFHbVIr/MDjhJQBv4BOVX0gcjn4eHZFjpZKAD/QSQfeRqkHUtqq8+beW8oPbANOnrO1nSR8aw0ktMvBmtGcbmqFIDtc805jfENeOfVS31zkKuB3bDn7+0bVkx45QPznXQRi/srnBb4lmHvnorLC0DymiYjIlr6jVRLNIkOpdFNfyH+iuPj7tUsR/sCmL1dMQhCH2uTOaDlj2INCDftHd2aeemDgLUoARIjRHQMppKtF73wSazOsDV5ZC36WYcAWeGurmB8qr2sNbreUbcSNca+JAaFKI9e4yvy04jHEGrFg3ZDuRRVKaYBAqcaSuApVQhUMlGvbcuy8fYEOnJ7cXy6GlEoAOlAkNA94zLRdvT+TBAdm0C/7zaDb3mLogJzAxmDV+RLxum8=
  distributions: sdist bdist_wheel
  on:
    branch: master
    tags: true
